<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WikiH</title>
<link rel="stylesheet" href="styles.css">
<script type="module" src="app.js" defer></script>
</head>
<body>

<!-- Tela de Login Inicial -->
<div id="telaLogin" class="login-screen">
  <div class="login-container-center">
    <div class="login-header">
      <h1>WikiH</h1>
      <p>Faça login para acessar o conteúdo</p>
    </div>
    <div class="login-form">
      <input type="text" id="usuarioLogin" placeholder="Usuário" required>
      <input type="password" id="senhaLogin" placeholder="Senha" required>
      <button onclick="login()" class="btn-login">Entrar</button>
    </div>
  </div>
</div>

<!-- Aplicação Principal (oculta inicialmente) -->
<div id="appPrincipal" style="display: none;">
  <header>
    <div class="header-left">
      <button id="menuToggle" class="menu-toggle">☰</button>
      <div class="title">WikiH</div>
    </div>
    <div class="header-right">
      <span id="usuarioLogadoNome" class="user-name"></span>
      <button onclick="logout()" class="btn-logout">Sair</button>
      <button id="btnAdmin" class="admin-toggle" onclick="toggleAdmin()" style="display: none;">Admin</button>
    </div>
  </header>

  <main class="main-content">
    <!-- Menu Lateral -->
    <aside id="menuLateral" class="sidebar">
      <div class="counter" id="contadorCodigos">Total de Códigos: 0</div>
      <div id="listaCodigos" class="menu-items">
        <!-- Lista de títulos será carregada aqui -->
      </div>
    </aside>

    <!-- Conteúdo Principal -->
    <section id="conteudoPrincipal" class="content-area">
      <div id="conteudoCodigo" class="code-content">
        <div class="welcome-message">
          <h2>Bem-vindo ao WikiH</h2>
          <p>Selecione um item no menu lateral para visualizar o conteúdo.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Painel de Administração -->
  <div id="painelAdmin" class="admin-panel" style="display: none;">
    <button class="close-admin" onclick="toggleAdmin()">✕ Fechar</button>
    <h3>Painel de Administração</h3>
    
    <div class="admin-section">
      <h4>Gerenciar Usuários</h4>
      <form id="formNovoUsuario">
        <input type="text" id="novoUsuarioNome" placeholder="Nome do Usuário" required>
        <input type="password" id="novoUsuarioSenha" placeholder="Senha" required>
        <select id="novoUsuarioTipo" required>
          <option value="">Selecione o tipo</option>
          <option value="admin">Administrador</option>
          <option value="user">Usuário</option>
        </select>
        <button type="submit">Adicionar Usuário</button>
      </form>
      
      <div id="listaUsuariosAdmin">
        <!-- Lista de usuários para administração -->
      </div>
    </div>

    <div class="admin-section">
      <h4>Adicionar Novo Código</h4>
      <form id="formNovoCodigo">
        <input type="text" id="novoTitulo" placeholder="Título" required>
        <input type="text" id="novaLinguagem" placeholder="Linguagem" required>
        <input type="text" id="novaDescricao" placeholder="Descrição">
        <textarea id="novoCodigo" placeholder="Código" rows="10" required></textarea>
        <button type="submit">Adicionar Código</button>
      </form>
    </div>

    <div class="admin-section">
      <h4>Gerenciar Códigos Existentes</h4>
      <div id="listaCodigosAdmin">
        <!-- Lista de códigos para administração -->
      </div>
    </div>
  </div>
</div>

</body>
</html>